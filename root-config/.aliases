#!/bin/bash

# system wide
# -------------------------------------------------------------------------------------------------
alias te="trae"
alias tl="tldr"
alias e="zed"
alias b="bat"
alias stageoff="defaults write com.apple.WindowManager GloballyEnabled -bool false"
alias ld='lazydocker'
alias f="fzf --preview 'if [ -d {} ]; then tree -C {} | head -200; else bat --style=numbers,changes --color=always {} | head -500; fi'"
alias golang="cd /Users/zhoux/lidl/go-projects"
alias bm='ab -c 100 -n 10000 '
alias pip='pip3'
alias ftype="find . -type f | sed -e 's/.*\.//' | sort | uniq -c | sort -rn"
alias fsize="find . -name '*.php' | xargs wc -l | sort -nr"
alias deskon='defaults write com.apple.finder CreateDesktop -bool true && killall Finder'
alias deskoff='defaults write com.apple.finder CreateDesktop -bool false && killall Finder'
alias ..="cd ..; ls"
alias ...="cd ../..; ls"
alias version='echo macOs; sw_vers; echo nodejs;   node -v;   echo npm;   pnpm -v;   php -v;   docker -v;   zsh --version'
alias lh='eza -a | egrep "^\."'
alias l='eza -a --color=always --long --git --no-filesize --icons=always --no-time --no-user --no-permissions'
alias h='cd ~'
alias c='printf "\033c"'
alias x="exit"
alias m="make"
alias show="defaults write com.apple.Finder AppleShowAllFiles -bool true;  killall Finder"
alias hide="defaults write com.apple.Finder AppleShowAllFiles -bool false;  killall Finder"
alias ae="e ~/.aliases"
alias au="source ~/.aliases"
alias as='alias | grep '
alias as='alias | grep '
alias pw="pwgen"
alias bi='brew install'
alias bs='brew search'
alias ce='export VISUAL=vim; crontab -e'
alias restore_finder="cd ~/Library/Preferences;   sudo find com.apple.finder.plist* -exec rm {} \;;   killall Finder"
alias jb='phpstorm '
alias sharing='cd /Users/zhoux/sites/slides/slidev/2024-knowledge-sharing; code .; make start'
alias gohelper='cd /Users/zhoux/lidl/go-projects/golang-helper'

# ollama
# --------------------------------------------
alias ol='cd /Users/zhoux/ollama'

# golang
# --------------------------------------------
alias gocli='cd /Users/zhoux/lidl/go-projects/go-cli-craft; code .'
alias arun='watch -n 1 -c go run '
alias oc='/Users/zhoux/go/bin/oapi-codegen'
alias gotools='cd /Users/zhoux/lidl/gifty/go-tools'


# kubernetes
# --------------------------------------------
# tool
alias mk="minikube"
alias ki="kind"
alias he="helm"
# shortcuts
alias k="kubectl"
alias kg="k get"
alias kl="k logs"
alias ka="k apply"
alias kd="k describe"
alias ke="k exec"
alias kc="k create"
alias kr="k run"
alias kd="k delete"
alias kgpw="k get pods -o wide"
alias kga="k get all -o wide"

# kubernetes training
# --------------------------------------------
alias kssh='cd /Users/zhoux/lidl/Kubernetes-training-2025/xun; ssh -i ssh xun@fallback.training-dev-sit-2025-03-11.k8s.inovex.training'
alias ktraining='cd /Users/zhoux/lidl/Kubernetes-training-2025'

# Gifty - blast
# --------------------------------------------
alias blast='cd /Users/zhoux/lidl/gifty/blast'


# Gifty
# --------------------------------------------
alias bucket='cd /Users/zhoux/lidl/gifty/backend-ui/docker/cloud-storage/buckets/gifty; ls -al'
alias mr='docker compose exec app php vendor/bin/rector'
alias epay='cd /Users/zhoux/lidl/gifty/epay-generator'
alias gifty='cd /Users/zhoux/lidl/gifty'
alias performance='cd /Users/zhoux/lidl/gifty/performance'
alias condb='docker compose exec db /bin/sh'
alias core='gifty; cd core'
alias backend-ui='gifty; cd backend-ui'
alias ecs='make cs; make stan; make stan-unit'
alias dbdisk='docker-compose exec db df -h'
alias ssh_core_qa='gifty; ./gcloud.sh -e work -s qa -a core'
alias ssh_core_dev='gifty; ./gcloud.sh -e work -s dev -a core'
alias ssh_core_test='gifty; ./gcloud.sh -e work -s test -a core'
alias ssh_core_prod='gifty; ./gcloud.sh -e live -s prod -a core'
alias ssh_frontend_dev='gifty; ./gcloud.sh -e work -s dev -a backend-ui'
alias ssh_frontend_qa='gifty; ./gcloud.sh -e work -s qa -a backend-ui'
alias ssh_frontend_test='gifty; ./gcloud.sh -e work -s test -a backend-ui'
alias ssh_frontend_prod='gifty; ./gcloud.sh -e live -s prod -a backend-ui'
alias ciao='core; dstop; backend-ui; dstop;'
alias mf='make finish'
alias mc='make connect'
alias prs='open https://dev.azure.com/schwarzit/schwarzit.odj.gifty/_git/core/pullrequests; prcore'
alias workers='core; make temp-worker; backend-ui; make temp-worker'
alias clog='backend-ui; echo "" > logs/app/dev.log; c;  tail -f logs/app/*.log | grep app.ERROR'
alias cworker='backend-ui; docker ps -a --filter "name=gifty-backend-ui-worker*" --format="{{.Names}}" | xargs docker rm -f; make temp-worker'
alias cbucket='buckend-ui; rm -rf docker/cloud-storage/buckets/gifty/*.* -n'
alias ccc='cworker; clog; cbucket'

# mapping zsh plugin
# --------------------------------------------
alias of='ofd' # open finder location

# pathes projects
alias macup='cd /Users/zhoux/sites/github/macup'
alias nines='github; cd nines; code .'
alias carsales='lidl; cd carsales'
alias carex='lidl; cd carex'
alias mydev='cd /Users/zhoux/lidl/mydev.io; code .; npm run dev'
alias agile='cd /Users/zhoux/lidl/agile-coaching/schwarzit.academy-for-agility'
alias github='cd ~/sites/github/'
alias slides='cd ~/sites/slides/slidev/2024-knowledge-sharing; make start'
alias myzsh='github; cd myzsh'
alias lidl='cd ~/lidl'
alias github='cd ~/sites/github/'
alias stackit='lidl; cd stackit'
alias techblog='cd /Users/zhoux/lidl/schwarzit.odj.techblog; code .'

#
# CarSales + CarEx
# -------------------------------------------------------------------------------------------------
alias cflogin='cf login -a https://api.system.02.cf.eu01.stackit.schwarz --sso  --sso --skip-ssl-validation'
alias clogin='cf login -a https://api.system.01.cf.eu01.stackit.cloud --sso  --sso --skip-ssl-validation'
alias dblive='cf ssh -L 63306:mad53fc4f.service.dc1.a9ssvc:3306 carsales'
alias cfcarsales='cf ssh carsales'

# tools
# -------------------------------------------------------------------------------------------------
alias port="lsof -i -P | grep LISTEN | grep $1"
alias pubip="curl -s checkip.dyndns.org | grep -Eo '[0-9\.]+'"
alias ts='tig status'
alias ss='symfony serve'
alias sc='symfony console '
alias sp='symfony composer '

# composer
# -------------------------------------------------------------------------------------------------
alias cr='composer req '
alias cs='composer search '
alias cu='composer update '
alias ci='composer install '

# node
# -------------------------------------------------------------------------------------------------
alias y='yarn'
alias yi='y install'
alias p='pnpm'
alias pi='pnpm install'
alias ni='pnpm install'

# tree
# -------------------------------------------------------------------------------------------------
alias t='tree .'
alias t2='tree -L 2 .'
alias t3='tree -L 3 .'

# Git
# -------------------------------------------------------------------------------------------------
alias gd='git diff'
alias gst='git status'
alias gi='git diff'
alias ga='git add .'
alias gap='ga; git commit -m "updates"; gp'
alias gp='git push'
alias gpu='git push --set-upstream upstream '
alias gm='ga; git commit -m'

alias gb='git branch'
alias gbd='git branch -D '
alias gbm='git branch -m '
alias gbr='git branch -r | fzf'
alias gba='git branch -v -a'

alias gc='git checkout'
alias gcb='git checkout -b '

alias gu='git pull'
alias gcl='git clone'
alias gf='git reflog'
alias gl="git log --graph --decorate"
alias grh='git reset --hard HEAD'
alias gtags='git ls-remote --tags | fzf'

# docker-compose
# -------------------------------------------------------------------------------------------------
alias dstart='docker-compose start'
alias dlogs='docker-compose logs -tf'
alias dup='docker-compose up -d'
alias ddown="docker-compose down"
alias dstop='docker-compose stop'
alias sf='docker-compose exec app bin/console '
alias sfl='docker-compose exec app bin/console | grep gifty'

# docker
# ------------------------------------------------------------------------------------------------
alias dps="docker ps --format 'table {{.ID}}\t{{.Names}}\t{{.Ports}}\t{{.Status}}' | fzf"
alias dpsa="docker ps --format 'table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Ports}}\t{{.Status}}' | fzf"
alias dnames="docker ps --format '{{.Names}}' | fzf"
alias dia="docker images -a | fzf"
alias drmi="docker rmi -f"
alias drm="docker rm -f"
alias dstopall='docker stop $(docker ps -aq)'

# function
# -------------------------------------------------------------------------------------------------
cheat() {
  curl cheat.sh/"$1"
}

# youtube download
# ------------------------------------------------------------------------------------------------
alias dl='cd /Users/zhoux/Music; yt-dlp -f 139 '
